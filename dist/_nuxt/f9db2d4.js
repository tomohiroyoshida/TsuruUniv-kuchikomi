(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{394:function(t,e,r){"use strict";r.r(e);var n=r(38),o=Object(n.defineComponent)({name:"AppBtn",setup:function(){}}),c=r(87),l=r(128),f=r.n(l),d=r(386),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-btn",t._b({staticClass:"app-btn white--text",attrs:{text:t.$attrs.text||"text",width:t.$attrs.width||"10rem"},on:{click:function(e){return t.$emit("click",e)}}},"v-btn",t.$attrs,!1),[t._t("default")],2)}),[],!1,null,"78b48fe1",null);e.default=component.exports;f()(component,{VBtn:d.a})},401:function(t,e,r){"use strict";r.r(e);var n=r(38),o=Object(n.defineComponent)({name:"TextInput",setup:function(){}}),c=r(87),l=r(128),f=r.n(l),d=r(468),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-text-field",t._b({staticClass:"text-input",attrs:{value:t.$attrs.value,rules:t.$attrs.rules,counter:t.$attrs.counter,placeholder:t.$attrs.placeholder,flat:"",dense:"",solo:"",outlined:"",clearable:"",color:"primary"},on:{input:function(e){return t.$emit("input",e)}}},"v-text-field",t.$attrs,!1))}),[],!1,null,"0d07ec3b",null);e.default=component.exports;f()(component,{VTextField:d.a})},403:function(t,e,r){"use strict";r.r(e);var n=r(38),o=Object(n.defineComponent)({name:"ConfirmDialog",props:{value:{type:Boolean,required:!0},text:{type:String,required:!0}},setup:function(){}}),c=r(87),l=r(128),f=r.n(l),d=r(375),v=r(372),m=r(428),x=r(672),_=r(376),k=r(429),C=r(58),O=r(398),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{staticClass:"confirm-dialog",attrs:{value:t.value,persistent:"",width:"30rem"}},[r("v-card",{attrs:{rounded:""}},[r("v-toolbar",{staticClass:"d-flex justify-center",attrs:{color:"primary",flat:"",dense:""}},[r("v-toolbar-title",{staticClass:"white--text"},[t._v("確認")])],1),t._v(" "),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("v-card-text",{staticClass:"d-flex justify-center"},["作成"===t.text?r("div",[r("div",[t._v("\n              入力した内容で授業とクチコミを新規作成します。よろしいですか？\n            ")])]):"クリア"==t.text?r("div",[r("div",[t._v("入力した内容を全て削除します。")]),t._v(" "),r("div",[t._v("よろしいですか？")])]):"編集"==t.text?r("div",[r("div",[t._v("入力した内容で編集します。")]),t._v(" "),r("div",[t._v("よろしいですか？")])]):"削除"===t.text?r("div",[r("div",[t._v("\n              このクチコミを削除します。この操作は"),r("span",{staticClass:"red--text"},[t._v("取り消せません。")])]),t._v(" "),r("div",[t._v("よろしいですか？")])]):t._e()])],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-divider")],1),t._v(" "),r("v-col",{staticClass:"d-flex justify-center py-3",attrs:{cols:"12"}},[r("AppBtn",{staticClass:"mx-1",attrs:{color:"grey darken-2"},on:{click:function(e){return e.stopPropagation(),t.$emit("input",!1)}}},[t._v("\n          いいえ\n        ")]),t._v(" "),r("AppBtn",{staticClass:"mr-1",attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),t.$emit("ok")}}},[t._v("\n          はい\n        ")])],1)],1)],1)],1)}),[],!1,null,"60379f2a",null);e.default=component.exports;f()(component,{AppBtn:r(394).default}),f()(component,{VCard:d.a,VCardText:v.b,VCol:m.a,VDialog:x.a,VDivider:_.a,VRow:k.a,VToolbar:C.a,VToolbarTitle:O.a})},404:function(t,e,r){"use strict";r.r(e);var n=r(38),o=Object(n.defineComponent)({name:"SnackBar",props:{value:{type:Boolean,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}}}),c=r(87),l=r(128),f=r.n(l),d=r(386),v=r(189),m=r(661),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-snackbar",{staticClass:"snack-bar",attrs:{value:t.value,color:t.color,text:"",bottom:"",rounded:"",timeout:"4000"},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[r("v-btn",t._b({attrs:{text:"",fab:"",small:""},on:{click:function(e){return t.$emit("input",!1)}}},"v-btn",n,!1),[r("v-icon",[t._v(" mdi-close ")])],1)]}}])},[t._v("\n  "+t._s(t.text)+"\n  ")])}),[],!1,null,"299931c0",null);e.default=component.exports;f()(component,{VBtn:d.a,VIcon:v.a,VSnackbar:m.a})},407:function(t,e,r){"use strict";r.r(e);var n=r(38),o=Object(n.defineComponent)({name:"TextCaption",props:{title:{type:String},required:{type:Boolean}},setup:function(){}}),c=r(87),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"required-caption text-caption my-1 ml-3"},[t.required?r("span",{staticClass:"red--text"},[t._v("* ")]):t._e(),t._v(" "),t._t("default"),t._v("\n  "+t._s(t.title)+"\n")],2)}),[],!1,null,"3e1ad8a6",null);e.default=component.exports},436:function(t,e){},437:function(t,e){},443:function(t,e){},444:function(t,e){},449:function(t,e){},450:function(t,e){},452:function(t,e){},455:function(t,e){},457:function(t,e){},460:function(t,e){},465:function(t,e){},467:function(t,e){},523:function(t,e,r){var content=r(646);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("d809a8d6",content,!0,{sourceMap:!1})},645:function(t,e,r){"use strict";r(523)},646:function(t,e,r){(e=r(17)(!1)).push([t.i,".image[data-v-8f8fec88]{border-radius:50%;width:100px;height:100px}",""]),t.exports=e},664:function(t,e,r){"use strict";r.r(e);r(59);var n=r(20),o=r(38),c=r(65),l=r(434),f={required:[function(t){return!!t||"この欄の入力は必須です"}]},d=Object(o.defineComponent)({name:"profile",setup:function(t,e){var r=e.root,d=Object(o.ref)(!0),v=Object.assign({},r.$store.getters.user),m=Object(o.ref)(!1),x=Object(o.ref)(!1),_=Object(o.ref)(!1),k=Object(o.ref)(!1),C=Object(o.ref)(),O=Object(o.ref)(),S=Object.assign({},v.photoURL),h=Object(o.ref)(!1),j=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y===$){t.next=3;break}return _.value=!0,t.abrupt("return");case 3:return _.value=!1,x.value=!1,e={uid:v.uid,username:v.username,photoURL:O.value||"https://storage.googleapis.com/studio-cms-assets/projects/RQqJDxPBWg/s-1000x1000_v-fs_webp_eb270a46-5d4c-484e-ada2-a42a7f45f182.webp"},t.prev=6,n=c.a.collection("users").doc(v.uid),t.next=10,n.set(e,{merge:!0});case 10:m.value=!1,x.value=!0,r.$store.dispatch("setUser",e),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(6),console.error(t.t0),m.value=!1,_.value=!0;case 20:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(){return t.apply(this,arguments)}}(),y=Object(l.suid)(16);r.$store.dispatch("setCsrfToken",y);var $=r.$store.getters.csrfToken;return{RULES:f,user:v,imageFile:C,originalPhotoURL:S,photoURL:O,updateProfile:j,isFormValid:d,isOpenUpdateConfirm:m,isOpenSuccessSnackbar:x,isOpenErrorSnackbar:_,isOpenFileSizeErrorSnackbar:k,makePhotoURL:function(t){if(t){if(t.size>1048480)return k.value=!0,void(h.value=!0);var e=new FileReader;e.readAsDataURL(t),e.addEventListener("load",(function(){e.result&&(O.value=e.result)}))}},disabled:h,csrfToken:y,storedCsrfToken:$}}}),v=(r(645),r(87)),m=r(128),x=r.n(m),_=r(428),k=r(430),C=r(662),O=r(429),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{id:"profile"}},[r("v-form",{ref:"form",model:{value:t.isFormValid,callback:function(e){t.isFormValid=e},expression:"isFormValid"}},[r("v-row",{attrs:{"no-gutters":"",justify:"center"}},[r("v-col",{staticClass:"mt-12",attrs:{cols:"11"}},[r("div",{staticClass:"text-h6 d-flex justify-center my-3 font-weight-bold"},[t._v("\n          プロフィール設定\n        ")]),t._v(" "),r("section",[r("TextCaption",{staticClass:"mb-1",attrs:{required:"",title:"ユーザーネーム"}}),t._v(" "),r("TextInput",{attrs:{rules:t.RULES.required,color:"primary"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),t._v(" "),r("div",{staticClass:"d-flex justify-center py-3 mt-5"},[r("AppBtn",{attrs:{color:"primary",depressed:"",disabled:!t.isFormValid||t.disabled},on:{click:function(e){t.isOpenUpdateConfirm=!0}}},[t._v("\n            保存\n          ")])],1)]),t._v(" "),r("ConfirmDialog",{attrs:{text:"編集"},on:{ok:t.updateProfile},model:{value:t.isOpenUpdateConfirm,callback:function(e){t.isOpenUpdateConfirm=e},expression:"isOpenUpdateConfirm"}}),t._v(" "),r("SnackBar",{attrs:{text:"【成功】プロフィールの編集を完了しました🐱",color:"success"},model:{value:t.isOpenSuccessSnackbar,callback:function(e){t.isOpenSuccessSnackbar=e},expression:"isOpenSuccessSnackbar"}}),t._v(" "),r("SnackBar",{attrs:{text:"【エラー】画像の容量が大きすぎます。",color:"error"},model:{value:t.isOpenFileSizeErrorSnackbar,callback:function(e){t.isOpenFileSizeErrorSnackbar=e},expression:"isOpenFileSizeErrorSnackbar"}}),t._v(" "),r("SnackBar",{attrs:{text:"【エラー】エラーが起きました。画面をリロードしてもう一度試してください😢",color:"error"},model:{value:t.isOpenErrorSnackbar,callback:function(e){t.isOpenErrorSnackbar=e},expression:"isOpenErrorSnackbar"}})],1)],1)],1)}),[],!1,null,"8f8fec88",null);e.default=component.exports;x()(component,{TextCaption:r(407).default,TextInput:r(401).default,AppBtn:r(394).default,ConfirmDialog:r(403).default,SnackBar:r(404).default}),x()(component,{VCol:_.a,VContainer:k.a,VForm:C.a,VRow:O.a})}}]);